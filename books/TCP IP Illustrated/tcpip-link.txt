Author: Joseph Lee
E-Mail: fdlixiaojun@gmail.com

链路层

TCP/IP支持多种链路层协议，这取决于网络所采用的硬件，比如以太网，令牌环，FDDI等

链路层的目的:
    为IP模块发送和接收IP数据报
    为ARP模块发送ARP请求和接收ARP应答
    为RARP模块发送RARP请求和接收RARP应答

以太网和802.3标准并不完全相同，前者的数据报格式由RFC894规定，后者由RFC1042规定。
以太网地址，48位地址。802以太网帧包含了LLC（3字节）帧有最小长度要求。

关于SLIP 串行线路IP协议（略）

关于PPP 点对点协议
PPP包括三个部分：
    1) 在串行线路上封装IP数据报的方法
    2) 建立、配置以及测试数据链路的链路控制协议（LCP）。它允许通信双方协商选项
    3) 针对不同网络层协议的网络控制协议（NCP），比如IPCP
PPP数据帧格式
  +------+------+------+------+--------------------------+-----+------+
  | 标志 | 地址 | 控制 | 协议 |           信息           | CRC | 标志 |
  |  7E  |  FF  |  03  |      |                          |     |  7E  |
  +------+------+------+------+--------------------------+-----+------+
     1       1      1      2          最多1500字节          2      1

每一帧都以0x7E开头，紧接着是地址字节，始终是0xFF，然后是一个值为0x03的控制字节
接下来是协议字段，类似于以太网中的协议类型字段。共分三种类型：
    协议字段为0x0021，表示信息字段是一个IP数据报
    协议字段为0xC021，表示信息字段是链路控制数据
    协议字段为0x8021，表示信息字段是网络控制数据
当标志值0x7E出现在信息字段需要进行转义。转义的手段（略）

利用链路控制协议协商选项，可以不需要传送标志符和地址字符，从而提高性能。

利用PPP可以：
    在单根串行线路上运行多种协议
    每一帧都有循环冗余校验
    通信双发可以进行IP地址的动态协商（利用网络控制协议）
    可以对TCP和IP首部进行压缩
    链路控制协议可以对多个链路控制选项进行设置

PPP同步链路和异步链路
PPP支持数据为8位和无奇偶校验的异步模式（如大多数计算机上都普遍存在的串行接口），
还支持面向比特的同步连接。

关于环回接口LOOPBACK
允许同一台主机上的客户程序和服务器程序可以通过TCP/IP进行通信，一般在IP数据报离
开网络层时将它返回给自己。一般这种分组不会出现在网络上。

关于最大传输单元MTU
以太网对数据帧的长度限制，长度超出的IP数据报要进行分片（fragmentation）。

关于路径MTU
两台通信主机路径中的最小MTU。涉及到路径MTU的发现机制，注意traceroute

计算吞吐量
传输有效数据的速度
