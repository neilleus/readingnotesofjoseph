Author: Joseph Lee
E-Mail: fdlixiaojun@gmail.com

保护单个二进制可执行文件，需要利用GCC的段收集功能

3个变量：
pid	二进制可执行文件产品唯一标识，编译期确定
hwid	硬件设备标识，系统首次运行时确定
serail	注册序列号，产品注册时确定，由厂家发行，购买方填写后自动激活

以上3个变量利用GCC的段收集功能存放到二进制可执行文件的一个特殊的段中，在编译的
时候pid位置的值就已经被填好，在系统首次运行时，把获得的硬件标识hwid填入到二进制
可执行文件的hwid位置，在填写好序列号并校验为有效序列号后，将注册号填入到二进制
可执行文件的对应位置。

这里涉及到运行时更改二进制可执行文件，这要通过调用外部的可执行文件或者一个写入
函数来。
这里pid和hwid唯一标识了硬件和软件组合，运行时，首先要校验hwid，如果hwid不为空
且与当前硬件的hwid不符合，则更新硬件的hwid，防止在多个硬件上使用同一软件，
然后校验序列号，如果序列号为空，则要求填写序列号，校验时，将pid和hwid结合计算
出序列号与输入的序列号进行比对，如果成功则通过校验，改写二进制，下次就不需要再
次输入序列号了。如果失败则一直要求输入序列号。
这里的序列号计算可以采用HMAC算法等加密摘要算法来生成。
另外还可以增加序列号有效期限制。

